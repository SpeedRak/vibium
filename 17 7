spisok1 = open('17 7 file.txt')
spisok2 = open('17 7 file.txt')
sum111 = 0
for i in spisok1:
    i = str(int(i))
    if i[-3:] == '111':
        sum111 += int(i) #39000
x1 = int(int(spisok2.readline()))
x2 = int(int(spisok2.readline()))
k = 0
proizv = []
for x3 in spisok2:
    x3 = (int(x3))
    if int(x1) % int(max(map(int, str(abs(x1))))) == 0 or int(x2) % int(max(map(int, str(abs(x2))))) == 0 or int(x3) % int(max(map(int, str(abs(x3))))) == 0:
        if int(x1) * int(x2) * int(x3) >= sum111:
            k += 1
            proizv += [int(x1) * int(x2) * int(x3)]
    x1 = x2
    x2 = x3
print(k, min(proizv))

#В файле содержится последовательность целых чисел. 
# Элементы последовательности могут принимать целые значения от -100 000 до 100 000 включительно. 
# Определите количество троек элементов последовательности, в которых хотя бы одно число делится на свою наибольшую цифру, 
# а произведение элементов тройки не меньше суммы всех элементов последовательности, оканчивающихся на 111. 
# В ответе запишите количество найденных троек чисел, затем минимальное из произведений элементов таких троек. 
# В данной задаче под тройкой подразумевается три идущих подряд элемента последовательности.